<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>會員中心｜毛孩到府服務平台</title>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/member.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
</head>

  <body>
    <!-- 導覽列 -->
    <div id="navbar-placeholder"></div>

    <div class="container member-container">
      <!-- 側邊欄 -->
      <div class="sidebar">
        <h4>會員中心</h4>
        <button class="tab-btn active" data-target="profile">個人資料</button>
        <button class="tab-btn" data-target="mypet">我的寵物</button>
        <button class="tab-btn" data-target="orders">我的訂單</button>
        <button class="tab-btn" data-target="settings">帳號設定</button>
      </div>

      <!-- 右側主要內容 -->
      <div class="content-area">
        <!-- 個人資料 -->
        <div id="profile" class="tab-content">
          <h2>個人資料</h2>
          <div id="user-info"><p>載入中...</p></div>
        </div>

        <!-- 我的寵物 -->
        <div id="mypet" class="tab-content hidden">
          <h2>我的寵物</h2>

          <div class="pet-submenu mb-3">
            <button class="btn pet-tab active" data-target="pet-info">寵物資料</button>
            <button class="btn pet-tab" data-target="pet-vaccine">餵食紀錄</button>
          </div>

          <!-- 寵物資料 -->
          <div id="pet-info" class="pet-tab-content">
            <div id="pet-list"><p>載入中...</p></div>

            <div id="new-pet-form" class="card p-3 mb-3">
              <div class="mb-2">寵物姓名<input type="text" id="new-pet-name" class="form-control"></div>
              <div class="mb-2">品種<input type="text" id="new-pet-species" class="form-control"></div>
              <div class="mb-2">年齡<input type="number" id="new-pet-age" class="form-control"></div>
              <div class="mb-2">生日<input type="date" id="new-pet-birthday" class="form-control"></div>
              <div class="mb-2">上次疫苗施打日期<input type="date" id="new-pet-vaccine" class="form-control"></div>
              <button class="btn btn-success" id="add-pet-btn">新增寵物</button>
            </div>
          </div>

          <div id="pet-vaccine" class="pet-tab-content hidden">
            <h3>餵食紀錄</h3>
            <form id="feeding-form">
              <div class="table-responsive">
                <table class="table table-bordered">
                  <thead>
                    <tr>
                      <th>餐別</th>
                      <th>周一</th>
                      <th>周二</th>
                      <th>周三</th>
                      <th>周四</th>
                      <th>周五</th>
                      <th>周六</th>
                      <th>周日</th>
                    </tr>
                  </thead>
                  <tbody id="feeding-tbody"><tr><td colspan="8">載入中...</td></tr></tbody>
                </table>
              </div>
              <button type="submit" class="btn btn-primary mt-2">儲存餵食紀錄</button>
              <div id="feeding-message" class="mt-2"></div>
              <div id="last-update" class="mt-2"></div>
            </form>
          </div>

        </div>

        <!-- 我的訂單 -->
        <div id="orders" class="tab-content hidden">
          <h2>我的訂單</h2>
          <div class="order-submenu mb-3">
            <button class="btn order-tab active" data-target="active-orders">已預約的服務者</button>
            <button class="btn order-tab" data-target="history-orders">歷史訂單</button>
          </div>

          <div id="active-orders" class="order-tab-content">
            <div id="active-order-list" class="order-scroll">
              <p>載入中...</p>
            </div>
          </div>

          <div id="history-orders" class="order-tab-content hidden">
            <div id="history-order-list" class="order-scroll"><p>載入中...</p></div>
          </div>
        </div>

        <!-- 帳號設定 -->
        <div id="settings" class="tab-content hidden">
          <h2>帳號設定</h2>
          <div id="actions">
            <button class="btn btn-warning me-2" id="update-password-btn">修改密碼</button>
            <button class="btn btn-danger" id="logout">登出</button>
          </div>
          <div id="message" class="message text-center mt-3"></div>
        </div>
      </div>
    </div>
    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="./js/navbar-loader.js" defer></script>
    <script src="./js/sweetalert-replacer.js"></script>
    <script src="./js/member.js"></script>
  </body>
  </html>